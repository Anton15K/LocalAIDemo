<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle} ? ${pageTitle} + ' | LocalAI Demo' : 'LocalAI Demo'">LocalAI Demo</title>
    
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom styles -->
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .status-pending { background-color: #fef3c7; color: #92400e; }
        .status-processing { background-color: #dbeafe; color: #1e40af; }
        .status-completed { background-color: #d1fae5; color: #065f46; }
        .status-failed { background-color: #fee2e2; color: #991b1b; }
    </style>

    <!-- MathJax for LaTeX rendering -->
    <script th:inline="none">
        window.MathJax = {
            tex: {
                inlineMath: [ ['\\(', '\\)'], ['$', '$'] ],
                displayMath: [ ['\\[', '\\]'], ['$$', '$$'] ]
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="gradient-bg shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/" class="flex items-center">
                        <svg class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                        </svg>
                        <span class="ml-2 text-xl font-bold text-white">LocalAI Demo</span>
                    </a>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/" class="text-white hover:text-gray-200 px-3 py-2 rounded-md text-sm font-medium"
                       th:classappend="${currentPage == 'home'} ? 'bg-white/20' : ''">
                        Dashboard
                    </a>
                    <a href="/lectures" class="text-white hover:text-gray-200 px-3 py-2 rounded-md text-sm font-medium"
                       th:classappend="${currentPage == 'lectures'} ? 'bg-white/20' : ''">
                        Lectures
                    </a>
                    <a href="/problems" class="text-white hover:text-gray-200 px-3 py-2 rounded-md text-sm font-medium"
                       th:classappend="${currentPage == 'problems'} ? 'bg-white/20' : ''">
                        Problems
                    </a>
                    <a href="/admin" class="text-white hover:text-gray-200 px-3 py-2 rounded-md text-sm font-medium"
                       th:classappend="${currentPage == 'admin'} ? 'bg-white/20' : ''">
                        Admin
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <div th:replace="${content}">
            <!-- Page content will be inserted here -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t mt-auto">
        <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-gray-500 text-sm">
                LocalAI Demo â€” Lecture Analysis & Problem Retrieval System
            </p>
        </div>
    </footer>

    <!-- Alpine.js for interactivity -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</body>
</html>
